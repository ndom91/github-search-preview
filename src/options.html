<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="color-scheme" content="light dark">
<base target="_blank">
<link rel="shortcut icon" href="icon.png">
<title>GitHub Search Preview options</title>
<link rel="stylesheet" href="options.css">
<script type="module" src="options.js" defer></script>

<div id="js-failed">JavaScript failed to load. Your development build failed or your browser has some issue.</div>

<form id="options-form" class="detail-view-container">
  <details id="token">
    <summary><strong>🔑 Personal token</strong></summary>
    <p>
      You should <a id="personal-token-link"
        href="https://github.com/settings/tokens/new?description=gitHub-search-preview&scopes=repo,read:project">
        generate a token</a> to ensure that every feature works correctly.
    </p>
    <p><strong>Token-less usage is not officially supported.</strong></p>
    <p>
      <input type="text" name="personalToken" spellcheck="false" autocomplete="password" autocapitalize="off" size="20"
        class="monospace-field">
      <span id="validation"></span>
    </p>
    <ul data-token-type="classic">
      <li data-validation data-scope="valid_token">The token enables us
        to <strong>read</strong> data from public repositories more often.
    </ul>
    <ul data-token-type="fine_grained">
      <li data-validation data-scope="valid_token">Fine-grained token validated, but some features and organizations
        might not support them. For more info, check out this issue on `refined-github`'s repository: <a
          href="https://github.com/refined-github/refined-github/issues/6092#issuecomment-1732286938">#6092</a></li>
    </ul>
  </details>

  <details id="debugging">
    <summary><strong>🐛 Debugging</strong></summary>
    <p>
      <label>
        <input type="checkbox" name="logging">
        Show the features enabled on each page in the console
      </label>
    </p>
    <p>
      <label>
        <input type="checkbox" name="logHTTP">
        Log API calls in the console
      </label>
    </p>
    <p>
      Options storage: <output class="storage-sync">unknown</output><br>
      Cache storage: <output class="storage-local">unknown</output><br>
      Github Search Preview version: <output id="version">unknown</output>
    </p>
    <p>
      <button id="clear-cache">Clear cache</button>
    </p>
  </details>
</form>
